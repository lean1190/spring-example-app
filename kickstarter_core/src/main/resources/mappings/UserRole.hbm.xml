<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC
"-//Hibernate/Hibernate Mapping DTD 3.0//EN" 
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping package="ar.edu.unlp.info.lifia.grupo1.model">
	<class name="UserRole">
	
		<id name="id" column="id_user_role">
			<generator class="native" />
		</id>
		
   		<many-to-one name="user" column="id_user" not-null="true" cascade="none" />
		
		<many-to-one name="project" column="id_project" unique="false" not-null="false" cascade="none" />
	
	  	<joined-subclass name="InvestorRole">
			<key column="id_user_role" />
			<set name="investments" cascade="all-delete-orphan">
				<key column="id_investor_role" not-null="true" />
				<one-to-many class="Investment"/>
			</set>
		</joined-subclass>
		
		<joined-subclass name="CreatorRole">
			<key column="id_user_role" />
		</joined-subclass>
	
	</class>
</hibernate-mapping>